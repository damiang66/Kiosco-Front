<div class="container mt-4">
  <h2>{{ editMode ? 'Editar Producto' : 'Nuevo Producto' }}</h2>

  <form (ngSubmit)="guardar()" #form="ngForm">
    <div class="mb-3">
      <label class="form-label">C칩digo</label>
      <input type="number" class="form-control" name="codigo" [(ngModel)]="producto.codigo" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Descripci칩n</label>
      <input type="text" class="form-control" name="descripcion" [(ngModel)]="producto.descripcion" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Cantidad</label>
      <input type="number" class="form-control" name="cantidad" [(ngModel)]="producto.cantidad" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Precio Compra</label>
      <input type="number" class="form-control" name="precioCompra" [(ngModel)]="producto.precioCompra" (ngModelChange)="onPrecioCompraChange($event)" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Calcular Precio Venta</label>
      <div class="d-flex gap-2 align-items-center">
        <select class="form-select w-auto" name="markupOption" [(ngModel)]="markupOption" (ngModelChange)="onMarkupChange($event)">
          <option value="30">+30%</option>
          <option value="40">+40%</option>
          <option value="50">+50%</option>
          <option value="manual">Manual</option>
        </select>
        <div *ngIf="!manualPrecioVenta" class="form-text">Se calcular치 autom치ticamente a partir del precio de compra.</div>
      </div>
    </div>

    <div class="mb-3" *ngIf="manualPrecioVenta">
      <label class="form-label">Precio Venta (manual)</label>
      <input type="number" class="form-control" name="precioVenta" [(ngModel)]="producto.precioVenta" required>
    </div>

    <div class="mb-3" *ngIf="!manualPrecioVenta">
      <label class="form-label">Precio Venta (calculado)</label>
      <input type="number" class="form-control" [(ngModel)]="producto.precioVenta" name="precioVentaCalc" disabled>
    </div>

    <button type="submit" class="btn btn-success">Guardar</button>
    <button (click)="cancelar()" type="button" class="btn btn-secondary ms-2">Cancelar</button>
  </form>
</div>
